
<HTML  
><HEAD> <!--Created by TeX4ht from theory-bk-three.tex--><TITLE></TITLE></HEAD><BODY 
 BGCOLOR="ffffff">[<A 
 HREF="theory-bk-threese6.html" >next</A>] [<A 
 HREF="theory-bk-threese4.html" >prev</A>] [<A 
 HREF="theory-bk-threese4.html#tailtheory-bk-threese4.html" >prev-tail</A>] [<A 
 HREF="#tailtheory-bk-threese5.html">tail</A>] [<A 
 HREF="theory-bk-three.html#theory-bk-threese5.html" >up</A>]
<H3>3.5 <A 
   NAME="40005-240003.5"> </A><A 
 HREF="theory-bk.html#Q2-40005-24"  NAME="Q1-40005-24">Closure Properties for Recursive Finite-Domain Programs</A></H3>
   <P >
      <A 
 HREF="#Q1-40005-25"  NAME="Q2-40005-25">From M to M<SUB>eof</SUB></A>
<BR>         <A 
 HREF="#Q1-40005-26"  NAME="Q2-40005-26">Elimination of Mixed States</A>
<BR>         <A 
 HREF="#Q1-40005-27"  NAME="Q2-40005-27">A Modification to M<SUB>eof</SUB></A>
<BR>         <A 
 HREF="#Q1-40005-28"  NAME="Q2-40005-28">A Pushdown Automaton That Accepts the Complementation of L(M)</A>
<A NAME="40005-24001"> </A>
   <P >By a proof similar to that for Theorem <A 
 HREF="theory-bk-twose5.html#30005-21004t2.5.1">2.5.1</A>, the class of the relations computable by
pushdown transducers, and<A NAME="40005-24002"> </A> consequently the class of context-free languages, are
closed under union<A NAME="40005-24003"> </A>. However, these classes are not closed under<A NAME="40005-24004"> </A> intersection and
<A NAME="40005-24005"> </A>complementation. For instance, the language { a<SUP>n</SUP>b<SUP>n</SUP>c<SUP>n</SUP> | n <FONT FACE="SYMBOL">³</FONT> 0 }, which is not
context-free, is the intersection of the context-free languages { a<SUP>i</SUP>b<SUP>i</SUP>c<SUP>j</SUP> | i, j <FONT FACE="SYMBOL">³</FONT> 0 } and
{ a<SUP>i</SUP>b<SUP>j</SUP>c<SUP>j</SUP> | i, j <FONT FACE="SYMBOL">³</FONT> 0 }.
   <P >Similarly, the class of relations computable by pushdown transducers is not closed
under intersection with the relations computable by finite-state<A NAME="40005-24006"> </A> transducers. For
instance, { (a<SUP>i</SUP>b<SUP>i</SUP>c<SUP>j</SUP>, d<SUP>i</SUP>) | i, j <FONT FACE="SYMBOL">³</FONT> 0 } is computable by a pushdown transducer and
{ (a<SUP>i</SUP>b<SUP>j</SUP>c<SUP>k</SUP>, d<SUP>k</SUP>) | i, j, k <FONT FACE="SYMBOL">³</FONT> 0 } is computable by a finite-state transducer. However, the
intersection { (a<SUP>n</SUP>b<SUP>n</SUP>c<SUP>n</SUP>, d<SUP>n</SUP>) | n <FONT FACE="SYMBOL">³</FONT> 0 } of these two relations cannot be computed by a
pushdown transducer. <A NAME="40005-24007"> </A>
   <P >For context-free languages the following theorem holds.
   <P ><STRONG>Theorem 3.5.1</STRONG> <A 
   NAME="40005-24008t3.5.1"> </A> 
The class of context-free languages is closed under intersection with regular
languages.<A NAME="40005-24009"> </A>
   <P >
   <P ><STRONG>Proof </STRONG> <A 
   NAME="40005-24010t"> </A> 
Consider any pushdown automaton M<SUB>1</SUB> = &lt;Q<SUB>1</SUB>, <FONT FACE="SYMBOL">S</FONT>, <FONT FACE="SYMBOL">G</FONT>, <FONT FACE="SYMBOL">d</FONT><SUB>1</SUB>, q<SUB>01</SUB>, Z<SUB>0</SUB>, F<SUB>1</SUB>&gt;, and any
finite-state automaton M<SUB>2</SUB> = &lt;Q<SUB>2</SUB>, <FONT FACE="SYMBOL">S</FONT>, <FONT FACE="SYMBOL">d</FONT><SUB>2</SUB>, q<SUB>02</SUB>, F<SUB>2</SUB>&gt;. With no loss of generality assume that
M<SUB>2</SUB> is <FONT FACE="SYMBOL">e</FONT> free and deterministic (see Theorem <A 
 HREF="theory-bk-twose3.html#30003-13001t2.3.1">2.3.1</A>).
   <P >The intersection of L(M<SUB>1</SUB>) and L(M<SUB>2</SUB>) is accepted by the pushdown automaton
M<SUB>3</SUB> = &lt;Q<SUB>1</SUB> × Q<SUB>2</SUB>, <FONT FACE="SYMBOL">S</FONT>, <FONT FACE="SYMBOL">G</FONT>, <FONT FACE="SYMBOL">d</FONT><SUB>3</SUB>, [q<SUB>01</SUB>, q<SUB>02</SUB>], Z<SUB>0</SUB>, F<SUB>1</SUB> × F<SUB>2</SUB>&gt;. The transition table <FONT FACE="SYMBOL">d</FONT><SUB>3</SUB> contains
([q, q'], <FONT FACE="SYMBOL">a</FONT>, <FONT FACE="SYMBOL">b</FONT>, [p, p<SUP> </SUP>'], <FONT FACE="SYMBOL">g</FONT>) if and only if (q, <FONT FACE="SYMBOL">a</FONT>, <FONT FACE="SYMBOL">b</FONT>, p, <FONT FACE="SYMBOL">g</FONT>) is in <FONT FACE="SYMBOL">d</FONT><SUB>1</SUB>, and M<SUB>2</SUB> in zero or one moves
can reach state p<SUP> </SUP>' from state q' by reading <FONT FACE="SYMBOL">a</FONT>.
   <P >Intuitively, M<SUB>3</SUB> is a pushdown automaton that simulates the computations of M<SUB>1</SUB> and
M<SUB>2</SUB> in parallel, where the simulated computations are synchronized to read each symbol of
the inputs to M<SUB>1</SUB> and M<SUB>2</SUB> together.
   <P >By induction on n it can be shown that M<SUB>3</SUB> accepts an input a<SUB>1</SUB> · · · a<SUB>n</SUB> if and only if
both M<SUB>1</SUB> and M<SUB>2</SUB> accept it. <IMG 
SRC="theory-bk-three1x.gif" ALT=" *** " 
 >
   <P >
   <P ><STRONG>Example 3.5.1</STRONG> <A 
   NAME="40005-24011t3.5.1"> </A> 
The pushdown automaton M<SUB>3</SUB>, whose transition diagram is given in Figure <A 
 HREF="#40005-24012r3.5.1">3.5.1</A>(c),
   <HR><CENTER><TABLE><TR><TD ><A 
   NAME="40005-24012r3.5.1"> </A>
<A 
   NAME="40005-24012r3.5.1"> </A>
<IMG 
SRC="draw-pic/theory-bk-three-3-5-1-a.jpg" ALT="[PICT]" 
><P>(a)<P><IMG 
SRC="draw-pic/theory-bk-three-3-5-1-b.jpg" ALT="[PICT]" 
><P>(b)<P><IMG 
SRC="draw-pic/theory-bk-three-3-5-1-c.jpg" ALT="[PICT]" 
><P>(c)<P><IMG 
SRC="draw-pic/theory-bk-three-3-5-1-d.jpg" ALT="[PICT]" 
><IMG 
SRC="draw-pic/theory-bk-three-3-5-1-d1.jpg" ALT="[PICT]" 
><IMG 
SRC="draw-pic/theory-bk-three-3-5-1-d2.jpg" ALT="[PICT]" 
><P>(d)<P>
<BR><TABLE  
><TR VALIGN="BASELINE"><TD><NOBR><STRONG>Figure                                                                                                                  3.5.1
</STRONG></NOBR></TD><TD  
>The language accepted by the pushdown automaton M<SUB>3</SUB> in (c) is the intersection
of the language accepted by the pushdown automaton M<SUB>1</SUB> in (a), and the language
accepted by the finite-state automaton M<SUB>2</SUB> in (b). The computation of M<SUB>3</SUB> on input
abba is illustrated in (d).                                             </TD></TR></TABLE></CENTER>
</TD></TR></TABLE></CENTER><HR>accepts the intersection of the language accepted by the pushdown automaton M<SUB>1</SUB>, whose
transition diagram is given in Figure <A 
 HREF="#40005-24012r3.5.1">3.5.1</A>(a), and the language accepted by the finite-state
automaton M<SUB>2</SUB>, whose transition diagram is given in Figure <A 
 HREF="#40005-24012r3.5.1">3.5.1</A>(b).
   <P >The computation of M<SUB>3</SUB> on input abba is illustrated in Figure <A 
 HREF="#40005-24012r3.5.1">3.5.1</A>(d). <IMG 
SRC="theory-bk-three1x.gif" ALT=" ***
" 
 >
   <P >
   <P >The languages<A NAME="40005-24013"> </A> { a<SUP>i</SUP>b<SUP>i</SUP>c<SUP>j</SUP> | i, j <FONT FACE="SYMBOL">³</FONT> 0 } and { a<SUP>i</SUP>b<SUP>j</SUP>c<SUP>j</SUP> | i, j <FONT FACE="SYMBOL">³</FONT> 0 } are accepted by
deterministic pushdown automata, and the intersection { a<SUP>n</SUP>b<SUP>n</SUP>c<SUP>n</SUP> | n <FONT FACE="SYMBOL">³</FONT> 0 } of these
languages is not context-free. Consequently, the class of the languages that deterministic
pushdown automata accept is not closed under <A NAME="40005-24014"> </A>intersection. However, the next theorem
will show that the class is closed under complementation. The proof of the theorem uses
the following lemma.
   <P ><STRONG>Definition </STRONG> <A 
   NAME="40005-24015t3.5"> </A> 
A sequence of moves (uq<SUB>1</SUB>v, z<SUB>1</SUB>) <IMG
SRC="cmsy10-60.gif" ALT=" |- "> · · ·  <IMG
SRC="cmsy10-60.gif" ALT=" |- "> (uq<SUB>k</SUB>v, z<SUB>k</SUB>) of a pushdown automaton M is
said to be a <I>loop</I> if k &gt; 1, M can move from configuration (uq<SUB>1</SUB>v, z<SUB>1</SUB>) on the
same transition rules as from configuration (uq<SUB>k</SUB>v, z<SUB>k</SUB>), and z<SUB>1</SUB> is a prefix of z<SUB>i</SUB>
for i = 2,<FONT FACE="SYMBOL"> ¼</FONT>, k. The loop is said to be a <I>simple loop</I>, if it contains no loop except
itself.
   <P ><STRONG>Lemma 3.5.1</STRONG> <A 
   NAME="40005-24016t3.5.1"> </A> 
Each deterministic pushdown automaton M<SUB>1</SUB> has an equivalent deterministic pushdown
automaton M<SUB>2</SUB> that halts on all inputs.
   <P >
   <P ><STRONG>Proof </STRONG> <A 
   NAME="40005-24017t"> </A> 
Let M<SUB>1</SUB> be any deterministic pushdown automaton. Let t denote the number of transition
rules of M<SUB>1</SUB>. M<SUB>1</SUB> does not halt on a given input x if and only if it enters a simple loop on
x. Moreover, each simple loop of M<SUB>1</SUB> consists of no more than t<SUP>t</SUP> moves. The
desired pushdown automaton M<SUB>2</SUB> can be constructed from M<SUB>1</SUB> by employing this
observation.
   <P >Specifically, M<SUB>2</SUB> is just M<SUB>1</SUB> modified to use &#34;marked&#34; symbols in its pushdown store,
as well as a counter, say, C in its finite-state control. M<SUB>2</SUB> marks the topmost symbol in its
pushdown store and sets C to zero at the start of each computation, immediately after
reading an input symbol, and immediately after removing a marked symbol from the
pushdown store. On the other hand, M<SUB>2</SUB> increases the value of C by one whenever it
simulates a move of M<SUB>1</SUB>. Upon reaching a value of t<SUP>t</SUP> + 1 in C, the pushdown automaton
M<SUB>2</SUB> determines that M<SUB>1</SUB> entered a simple loop, and so M<SUB>2</SUB> halts in a nonaccepting
configuration. <IMG 
SRC="theory-bk-three1x.gif" ALT=" *** " 
 >
   <P >
   <P >The proof of the following theorem is a refinement of that provided for Theorem <A 
 HREF="theory-bk-twose5.html#30005-21013t2.5.2">2.5.2</A>,
to show that the class of regular languages is closed under complementation.
   <P ><STRONG>Theorem 3.5.2</STRONG> <A 
   NAME="40005-24018t3.5.2"> </A> 
The class of languages that the deterministic pushdown <A NAME="40005-24019"> </A>automata accept is closed under
complementation.
   <P >
   <P ><STRONG>Proof </STRONG> <A 
   NAME="40005-24020t"> </A> 
Consider any deterministic pushdown automaton M. By Lemma <A 
 HREF="#40005-24016t3.5.1">3.5.1</A> it can be assumed
that M has only halting computations, and with no loss of generality it can be assumed
that |<FONT FACE="SYMBOL">g</FONT>| <FONT FACE="SYMBOL">£</FONT> 1 in each transition rule (q, <FONT FACE="SYMBOL">a</FONT>, <FONT FACE="SYMBOL">b</FONT>, p, <FONT FACE="SYMBOL">g</FONT>).
   <P ><EM><A 
   NAME="40005-25000"> </A><A 
 HREF="#Q2-40005-25"  NAME="Q1-40005-25">From M to M<SUB>eof</SUB></A></EM>
   <P >Let M<SUB>eof</SUB> be a deterministic pushdown automaton that accepts L(M), and that in each
of its computations halts after consuming all the input. M<SUB>eof</SUB> can be constructed from M
in the following manner. Let M<SUB>eof</SUB> be M initially with an added trap state q<SUB>trap</SUB>, and added
transition rule of the form (q<SUB>trap</SUB>, a, <FONT FACE="SYMBOL">e</FONT>, q<SUB>trap</SUB>, <FONT FACE="SYMBOL">e</FONT>) for each input symbol a. Then repeatedly
add to M<SUB>eof</SUB> a new transition rule of the form (q, <FONT FACE="SYMBOL">a</FONT>, <FONT FACE="SYMBOL">b</FONT>, q<SUB>trap</SUB>, <FONT FACE="SYMBOL">b</FONT>), as long as M<SUB>eof</SUB> does
not have a next move from state q on input <FONT FACE="SYMBOL">a</FONT> and topmost pushdown content
<FONT FACE="SYMBOL">b</FONT>.
   <P ><EM><A 
   NAME="40005-26000"> </A><A 
 HREF="#Q2-40005-26"  NAME="Q1-40005-26">Elimination of Mixed States</A></EM>
   <P >Call a state q of a pushdown automaton a <I>reading state</I>, if <FONT FACE="SYMBOL">a</FONT> is an input symbol in each
transition rule (q, <FONT FACE="SYMBOL">a</FONT>, <FONT FACE="SYMBOL">b</FONT>, p, <FONT FACE="SYMBOL">g</FONT>) that originates at state q. Call the state q an <I><FONT FACE="SYMBOL">e</FONT> state</I>, if <FONT FACE="SYMBOL">a</FONT> = <FONT FACE="SYMBOL">e</FONT> in
each transition rule (q, <FONT FACE="SYMBOL">a</FONT>, <FONT FACE="SYMBOL">b</FONT>, p, <FONT FACE="SYMBOL">g</FONT>) that originates at state q. If the state q is neither a reading
state nor an <FONT FACE="SYMBOL">e</FONT> state then call it a <I>mixed state</I>.
   <P >If q is a mixed state of M<SUB>eof</SUB>, then each of the transition rules (q, <FONT FACE="SYMBOL">a</FONT>, <FONT FACE="SYMBOL">b</FONT>, p, <FONT FACE="SYMBOL">g</FONT>) of M that
satisfies |<FONT FACE="SYMBOL">a</FONT>| = 1, can be replaced by a pair of transition rules (q, <FONT FACE="SYMBOL">e</FONT>, <FONT FACE="SYMBOL">b</FONT>, q<SUB><FONT FACE="SYMBOL">b</FONT></SUB>, <FONT FACE="SYMBOL">e</FONT>) and
(q<SUB><FONT FACE="SYMBOL">b</FONT></SUB>, <FONT FACE="SYMBOL">a</FONT>, <FONT FACE="SYMBOL">e</FONT>, p, <FONT FACE="SYMBOL">g</FONT>), where q<SUB><FONT FACE="SYMBOL">b</FONT></SUB> is a new intermediate, nonaccepting state. Using such
transformations M<SUB>eof</SUB> can be modified to include no mixed states.
   <P ><EM><A 
   NAME="40005-27000"> </A><A 
 HREF="#Q2-40005-27"  NAME="Q1-40005-27">A Modification to M<SUB>eof</SUB></A></EM>
   <P >M<SUB>eof</SUB> can be further modified to obtain a similar deterministic pushdown automaton
M<SUB>eof_ max</SUB>, with the only difference being that upon halting, M<SUB>eof_ max</SUB> is in a reading
state. The modification can be done in the following way.
     <OL TYPE="a" 
>
     <LI><A 
   NAME="40005-27001xa"> </A>Let M<SUB>eof_ max</SUB> initially be M<SUB>eof</SUB>.
     <LI><A 
   NAME="40005-27002xb"> </A>Rename  each  state  q of  M to  [q, accept]  if  it  is  an  accepting  state,  and  to
     [q, reject] if it is a nonaccepting state.
     <LI><A 
   NAME="40005-27003xc"> </A>As long as the pushdown automaton M<SUB>eof_ max</SUB> has a transition rule of the
     form ([q, accept], <FONT FACE="SYMBOL">e</FONT>, <FONT FACE="SYMBOL">b</FONT>, [p, reject], <FONT FACE="SYMBOL">g</FONT>), replace it with a transition rule of the
     form ([q, accept], <FONT FACE="SYMBOL">e</FONT>, <FONT FACE="SYMBOL">b</FONT>, [p, accept], <FONT FACE="SYMBOL">g</FONT>). In addition, if [p, accept] is a new
     state, then for each transition rule of the form ([p, reject], <FONT FACE="SYMBOL">a</FONT>, <FONT FACE="SYMBOL">b</FONT>', p', <FONT FACE="SYMBOL">g</FONT>') add
     also
         <DL><DT><STRONG>
     1. </STRONG><DD 
>A transition rule of the form ([p, accept], <FONT FACE="SYMBOL">a</FONT>, <FONT FACE="SYMBOL">b</FONT>', p', <FONT FACE="SYMBOL">g</FONT>') if p'<IMG 
SRC="theory-bk-three43x.gif" ALT="/="ALIGN="MIDDLE" >  [p, reject]
         or <FONT FACE="SYMBOL">a</FONT><IMG 
SRC="theory-bk-three44x.gif" ALT="/="ALIGN="MIDDLE" > <FONT FACE="SYMBOL">e</FONT>.
         <DT><STRONG>
     2. </STRONG><DD 
>A  transition  rule  of  the  form  ([p, accept], <FONT FACE="SYMBOL">a</FONT>, <FONT FACE="SYMBOL">b</FONT>', [p, accept], <FONT FACE="SYMBOL">g</FONT>'),  if  p'   =
         [p, reject] and <FONT FACE="SYMBOL">a</FONT> = <FONT FACE="SYMBOL">e</FONT>.</DL>
     <LI><A 
   NAME="40005-27004xd"> </A>Let a state of M<SUB>eof_ max</SUB> be an accepting state if and only if it is a reading state of the
     form [q, accept].</OL>
The above transformations propagate the &#34;accepting property&#34; of <FONT FACE="SYMBOL">e</FONT> states until their
&#34;blocking&#34; reading states.
   <P ><EM><A 
   NAME="40005-28000"> </A><A 
 HREF="#Q2-40005-28"  NAME="Q1-40005-28">A Pushdown Automaton That Accepts the Complementation of L(M)</A></EM>
   <P >The constructed pushdown automaton M<SUB>eof_ max</SUB> on a given input has a unique
sequence of moves that ends at a reading state after consuming all the input. The sequence
of moves remains the same, even when a different subset of the set of reading states is
chosen to be the set of accepting states. Thus, the deterministic pushdown automaton that
accepts the complementation of L(M) can be obtained from M<SUB>eof_ max</SUB>, by requiring
that the reading states of the form [q, reject] become the accepting states. <IMG 
SRC="theory-bk-three1x.gif" ALT=" ***
" 
 >
   <P >
   <P ><STRONG>Example 3.5.2</STRONG> <A 
   NAME="40005-28001t3.5.2"> </A> 
Let M be the deterministic pushdown automaton whose transition diagram is given in
Figure <A 
 HREF="#40005-28002r3.5.2">3.5.2</A>(a).
   <HR><CENTER><TABLE><TR><TD ><A 
   NAME="40005-28002r3.5.2"> </A>
<A 
   NAME="40005-28002r3.5.2"> </A>
<IMG 
SRC="draw-pic/theory-bk-three-3-5-2-a.jpg" ALT="[PICT]" 
><P>(a)<P><IMG 
SRC="draw-pic/theory-bk-three-3-5-2-b.jpg" ALT="[PICT]" 
><P>(b)<P><IMG 
SRC="draw-pic/theory-bk-three-3-5-2-c.jpg" ALT="[PICT]" 
><P>(c)<P><IMG 
SRC="draw-pic/theory-bk-three-3-5-2-d.jpg" ALT="[PICT]" 
><P>(d)<P>
    <BR><TABLE  
><TR VALIGN="BASELINE"><TD><NOBR><STRONG>Figure 3.5.2 </STRONG></NOBR></TD><TD  
>(a)  A  pushdown  automaton  M.  (b)  The  complementation  M<SUB>eof</SUB> for  M.  (c)  M<SUB>eof</SUB>
modified to include no mixed states. (d) A pushdown automaton that accepts the
complementation of L(M).                                                                                         </TD></TR></TABLE></CENTER>
</TD></TR></TABLE></CENTER><HR>Using the terminology in the proof of Theorem <A 
 HREF="#40005-24018t3.5.2">3.5.2</A>, the state q<SUB>0</SUB> of M is an <FONT FACE="SYMBOL">e</FONT> state, the
state q is a reading state, and the state p is a mixed state.
   <P >The transition diagram of M<SUB>eof</SUB> is given in Figure <A 
 HREF="#40005-28002r3.5.2">3.5.2</A>(b). The transition diagram of
M<SUB>eof</SUB> modified to include no mixed states, is given in Figure <A 
 HREF="#40005-28002r3.5.2">3.5.2</A>(c). The transition
diagram in Figure <A 
 HREF="#40005-28002r3.5.2">3.5.2</A>(d) is of a deterministic pushdown automaton that accepts the
complementation of L(M). <IMG 
SRC="theory-bk-three1x.gif" ALT=" *** " 
 >
   <P >
   <P >The closure under complementation of the class of the languages that deterministic
pushdown automata accept, the nonclosure of the class under intersection, and
DeMorgan's law all imply the nonclosure of the class under union<A NAME="40005-28003"> </A>.
   <P ><STRONG>Corollary 3.5.1</STRONG> <A 
   NAME="40005-28004t3.5.1"> </A> 
There are languages that are accepted by nondeterministic pushdown automata, but that
cannot be accepted by any deterministic pushdown automata. <A NAME="40005-28005"> </A>
   <P >
   <P >
   <P >[<A 
 HREF="theory-bk-threese6.html" >next</A>] [<A 
 HREF="theory-bk-threese4.html" >prev</A>] [<A 
 HREF="theory-bk-threese4.html#tailtheory-bk-threese4.html" >prev-tail</A>] [<A 
 HREF="theory-bk-threese5.html" >front</A>] [<A 
 HREF="theory-bk-three.html#theory-bk-threese5.html" >up</A>] <A 
   NAME="tailtheory-bk-threese5.html"> </A></BODY></HTML>